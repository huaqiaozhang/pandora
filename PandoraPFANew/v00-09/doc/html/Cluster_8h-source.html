<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PandoraPFANew: Cluster.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>Cluster.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00008"></a>00008 <span class="preprocessor">#ifndef CLUSTER_H</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span><span class="preprocessor">#define CLUSTER_H 1</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span>
<a name="l00011"></a>00011 <span class="preprocessor">#include "Api/PandoraContentApi.h"</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#include "Helpers/ClusterHelper.h"</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include "Objects/OrderedCaloHitList.h"</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#include "Pandora/PandoraInternal.h"</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="keyword">namespace </span>pandora
<a name="l00020"></a>00020 {
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>AlgorithmObjectManager;
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00025"></a>00025 
<a name="l00029"></a><a class="code" href="classpandora_1_1Cluster.html">00029</a> <span class="keyword">class </span><a class="code" href="classpandora_1_1Cluster.html">Cluster</a>
<a name="l00030"></a>00030 {
<a name="l00031"></a>00031 <span class="keyword">public</span>:
<a name="l00038"></a>00038     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#f3d62b5e33e598f86575493527b0dcf9">SortByHadronicEnergy</a>(<span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pLhs, <span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pRhs);
<a name="l00039"></a>00039 
<a name="l00046"></a>00046     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#ac96b3dc88cb316da85c2657b1d33751">SortByElectromagneticEnergy</a>(<span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pLhs, <span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pRhs);
<a name="l00047"></a>00047 
<a name="l00054"></a>00054     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#dc2d4c40ceab19320603229bd11a5e68">SortByInnerLayer</a>(<span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pLhs, <span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pRhs);
<a name="l00055"></a>00055 
<a name="l00061"></a>00061     <span class="keyword">const</span> <a class="code" href="classpandora_1_1OrderedCaloHitList.html">OrderedCaloHitList</a> &amp;<a class="code" href="classpandora_1_1Cluster.html#ab2d8e091179cbe15394acbb48cc6951">GetOrderedCaloHitList</a>() <span class="keyword">const</span>;
<a name="l00062"></a>00062 
<a name="l00068"></a>00068     <span class="keyword">const</span> CaloHitList &amp;<a class="code" href="classpandora_1_1Cluster.html#fb5de350db8af370d35dff3be375a8b7">GetIsolatedCaloHitList</a>() <span class="keyword">const</span>;
<a name="l00069"></a>00069 
<a name="l00075"></a>00075     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classpandora_1_1Cluster.html#af30147ed65bbb353064175f7017a026">GetNCaloHits</a>() <span class="keyword">const</span>;
<a name="l00076"></a>00076 
<a name="l00082"></a>00082     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classpandora_1_1Cluster.html#0947e036605513995b5cd106a6020e8b">GetNIsolatedCaloHits</a>() <span class="keyword">const</span>;
<a name="l00083"></a>00083 
<a name="l00089"></a>00089     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classpandora_1_1Cluster.html#3359d018ae714da31a9e923716e4bb0d">GetNPossibleMipHits</a>() <span class="keyword">const</span>;
<a name="l00090"></a>00090 
<a name="l00096"></a>00096     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#b6a088f27746ae678943aa6899cad2fc">GetMipFraction</a>() <span class="keyword">const</span>;
<a name="l00097"></a>00097 
<a name="l00103"></a>00103     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#7222a118a5aff1ff1795bd5b47c550e3">GetElectromagneticEnergy</a>() <span class="keyword">const</span>;
<a name="l00104"></a>00104 
<a name="l00110"></a>00110     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#1cb67011a00445c85c2c95c6b9283194">GetHadronicEnergy</a>() <span class="keyword">const</span>;
<a name="l00111"></a>00111 
<a name="l00117"></a>00117     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#7eb7553ccb35b5589e12862a613f90e2">GetIsolatedElectromagneticEnergy</a>() <span class="keyword">const</span>;
<a name="l00118"></a>00118 
<a name="l00124"></a>00124     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#68788c36a0a8f947726b401da1f336de">GetIsolatedHadronicEnergy</a>() <span class="keyword">const</span>;
<a name="l00125"></a>00125 
<a name="l00131"></a>00131     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#a7fb9e2c5334259084b8284e5c8206c8">IsFixedPhoton</a>() <span class="keyword">const</span>;
<a name="l00132"></a>00132 
<a name="l00138"></a>00138     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#ea60fcc4cda1b56c86f7579e533fd657">IsFixedElectron</a>() <span class="keyword">const</span>;
<a name="l00139"></a>00139 
<a name="l00145"></a>00145     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#22c6e716000709edcb700745043741be">IsFixedMuon</a>() <span class="keyword">const</span>;
<a name="l00146"></a>00146 
<a name="l00152"></a>00152     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#2df14d259b15f8db54c2ff8e56903a48">IsMipTrack</a>() <span class="keyword">const</span>;
<a name="l00153"></a>00153 
<a name="l00159"></a>00159     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#b56c2a6fd89d602b3793e7149012d312">IsTrackSeeded</a>() <span class="keyword">const</span>;
<a name="l00160"></a>00160 
<a name="l00166"></a>00166     <span class="keyword">const</span> <a class="code" href="classpandora_1_1Track.html">Track</a> *<a class="code" href="classpandora_1_1Cluster.html#d7943f522687a324e733e39629b28412">GetTrackSeed</a>() <span class="keyword">const</span>;
<a name="l00167"></a>00167 
<a name="l00173"></a>00173     PseudoLayer <a class="code" href="classpandora_1_1Cluster.html#ff0143199b5740f3c0ad5e45ccca7e85">GetInnerPseudoLayer</a>() <span class="keyword">const</span>;
<a name="l00174"></a>00174 
<a name="l00180"></a>00180     PseudoLayer <a class="code" href="classpandora_1_1Cluster.html#85ebc19a0230224ef48283f8e5ba0534">GetOuterPseudoLayer</a>() <span class="keyword">const</span>;
<a name="l00181"></a>00181 
<a name="l00187"></a>00187     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#44e3e62e8611cb45e7ac202deced6ab5">ContainsHitInOuterSamplingLayer</a>() <span class="keyword">const</span>;
<a name="l00188"></a>00188 
<a name="l00196"></a>00196     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#a991e1e149910bd1161a1220b2ff1198">ContainsHitType</a>(<span class="keyword">const</span> HitType hitType) <span class="keyword">const</span>;
<a name="l00197"></a>00197 
<a name="l00205"></a>00205     <span class="keyword">const</span> <a class="code" href="classpandora_1_1CartesianVector.html">CartesianVector</a> <a class="code" href="classpandora_1_1Cluster.html#05b5aa035153116209e36e1ebd032e2b">GetCentroid</a>(<span class="keyword">const</span> PseudoLayer pseudoLayer) <span class="keyword">const</span>;
<a name="l00206"></a>00206 
<a name="l00212"></a>00212     <span class="keyword">const</span> <a class="code" href="classpandora_1_1CartesianVector.html">CartesianVector</a> &amp;<a class="code" href="classpandora_1_1Cluster.html#7bb4e67d9eab35849b462db84421fb79">GetInitialDirection</a>() <span class="keyword">const</span>;
<a name="l00213"></a>00213 
<a name="l00219"></a>00219     <span class="keyword">const</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterHelper::ClusterFitResult</a> &amp;<a class="code" href="classpandora_1_1Cluster.html#a79ae43e111a9bbedebd27b81dc9c41f">GetCurrentFitResult</a>() <span class="keyword">const</span>;
<a name="l00220"></a>00220 
<a name="l00226"></a>00226     <span class="keyword">const</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterHelper::ClusterFitResult</a> &amp;<a class="code" href="classpandora_1_1Cluster.html#4b84e0a510ea0d303583331a13548422">GetFitToAllHitsResult</a>() <span class="keyword">const</span>;
<a name="l00227"></a>00227 
<a name="l00233"></a>00233     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#7d7e6de1ed4ea1f35816abbd409d72e5">GetCorrectedElectromagneticEnergy</a>() <span class="keyword">const</span>;
<a name="l00234"></a>00234 
<a name="l00240"></a>00240     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#874b15b9125b2eda14e085bc7847fe55">GetCorrectedHadronicEnergy</a>() <span class="keyword">const</span>;
<a name="l00241"></a>00241 
<a name="l00249"></a>00249     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#f377c3e5af9ae66fd2d844fe179769f9">GetTrackComparisonEnergy</a>() <span class="keyword">const</span>;
<a name="l00250"></a>00250 
<a name="l00256"></a>00256     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#92b10ff1a15b62ed7f45819d871db995">IsPhotonFast</a>() <span class="keyword">const</span>;
<a name="l00257"></a>00257 
<a name="l00263"></a>00263     PseudoLayer <a class="code" href="classpandora_1_1Cluster.html#f240922c9d190ea36c5f48d6bd1e55af">GetShowerStartLayer</a>() <span class="keyword">const</span>;
<a name="l00264"></a>00264 
<a name="l00270"></a>00270     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#400df0807bd773b0b46b85cfbc924d12">GetShowerProfileStart</a>() <span class="keyword">const</span>;
<a name="l00271"></a>00271 
<a name="l00277"></a>00277     <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#bea9e212018e3525940f1457a9d7a301">GetShowerProfileDiscrepancy</a>() <span class="keyword">const</span>;
<a name="l00278"></a>00278 
<a name="l00284"></a>00284     HitType <a class="code" href="classpandora_1_1Cluster.html#3f37d1738b3b92b544d864c38d823dfc">GetInnerLayerHitType</a>() <span class="keyword">const</span>;
<a name="l00285"></a>00285 
<a name="l00291"></a>00291     HitType <a class="code" href="classpandora_1_1Cluster.html#d27fb76ace32b08a0e3ba245318c9ab1">GetOuterLayerHitType</a>() <span class="keyword">const</span>;
<a name="l00292"></a>00292 
<a name="l00298"></a>00298     <span class="keyword">const</span> TrackList &amp;<a class="code" href="classpandora_1_1Cluster.html#9e1e1e79baacacc9fb313ec8d087fae1">GetAssociatedTrackList</a>() <span class="keyword">const</span>;
<a name="l00299"></a>00299 
<a name="l00305"></a>00305     <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#b5e8c7bf69d4287e028d413f827f8b66">SetIsFixedPhotonFlag</a>(<span class="keywordtype">bool</span> isFixedPhotonFlag);
<a name="l00306"></a>00306 
<a name="l00312"></a>00312     <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#a0e9e6b5402b36b0614678adf222b498">SetIsFixedElectronFlag</a>(<span class="keywordtype">bool</span> isFixedElectronFlag);
<a name="l00313"></a>00313 
<a name="l00319"></a>00319     <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#39ec4f5a6bb2dfaacbd4f74600baf65d">SetIsFixedMuonFlag</a>(<span class="keywordtype">bool</span> isFixedMuonFlag);
<a name="l00320"></a>00320 
<a name="l00326"></a>00326     <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#523947c9c4ab6c08f3d57bb3f559fa2d">SetIsMipTrackFlag</a>(<span class="keywordtype">bool</span> isMipTrackFlag);
<a name="l00327"></a>00327 
<a name="l00334"></a>00334     <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#418003e1d22f417f718705fb60f13ee7">SetCurrentFitResult</a>(<span class="keyword">const</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterHelper::ClusterFitResult</a> &amp;currentFitResult);
<a name="l00335"></a>00335 
<a name="l00341"></a>00341     <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#2cc5d242e8274ea88fb74094e384be0b">IsAvailable</a>() <span class="keyword">const</span>;
<a name="l00342"></a>00342 
<a name="l00343"></a>00343 <span class="keyword">private</span>:
<a name="l00349"></a>00349     <a class="code" href="classpandora_1_1Cluster.html">Cluster</a>(<a class="code" href="classpandora_1_1CaloHit.html">CaloHit</a> *pCaloHit);
<a name="l00350"></a>00350 
<a name="l00356"></a>00356     <a class="code" href="classpandora_1_1Cluster.html">Cluster</a>(CaloHitList *pCaloHitList);
<a name="l00357"></a>00357 
<a name="l00363"></a>00363     <a class="code" href="classpandora_1_1Cluster.html">Cluster</a>(<a class="code" href="classpandora_1_1Track.html">Track</a> *pTrack);
<a name="l00364"></a>00364 
<a name="l00368"></a>00368     ~<a class="code" href="classpandora_1_1Cluster.html">Cluster</a>();
<a name="l00369"></a>00369 
<a name="l00375"></a>00375     StatusCode AddCaloHit(<a class="code" href="classpandora_1_1CaloHit.html">CaloHit</a> *<span class="keyword">const</span> pCaloHit);
<a name="l00376"></a>00376 
<a name="l00382"></a>00382     StatusCode RemoveCaloHit(<a class="code" href="classpandora_1_1CaloHit.html">CaloHit</a> *<span class="keyword">const</span> pCaloHit);
<a name="l00383"></a>00383 
<a name="l00389"></a>00389     StatusCode AddIsolatedCaloHit(<a class="code" href="classpandora_1_1CaloHit.html">CaloHit</a> *<span class="keyword">const</span> pCaloHit);
<a name="l00390"></a>00390 
<a name="l00396"></a>00396     StatusCode RemoveIsolatedCaloHit(<a class="code" href="classpandora_1_1CaloHit.html">CaloHit</a> *<span class="keyword">const</span> pCaloHit);
<a name="l00397"></a>00397 
<a name="l00401"></a>00401     <span class="keywordtype">void</span> PerformEnergyCorrections() <span class="keyword">const</span>;
<a name="l00402"></a>00402 
<a name="l00406"></a>00406     <span class="keywordtype">void</span> CalculateFastPhotonFlag() <span class="keyword">const</span>;
<a name="l00407"></a>00407 
<a name="l00411"></a>00411     <span class="keywordtype">void</span> CalculateShowerStartLayer() <span class="keyword">const</span>;
<a name="l00412"></a>00412 
<a name="l00416"></a>00416     <span class="keywordtype">void</span> CalculateShowerProfile() <span class="keyword">const</span>;
<a name="l00417"></a>00417 
<a name="l00421"></a>00421     <span class="keywordtype">void</span> CalculateFitToAllHitsResult() <span class="keyword">const</span>;
<a name="l00422"></a>00422 
<a name="l00426"></a>00426     <span class="keywordtype">void</span> CalculateInitialDirection() <span class="keyword">const</span>;
<a name="l00427"></a>00427 
<a name="l00434"></a>00434     <span class="keywordtype">void</span> CalculateLayerHitType(<span class="keyword">const</span> PseudoLayer pseudoLayer, <a class="code" href="classpandora_1_1PandoraInputType.html">InputHitType</a> &amp;layerHitType) <span class="keyword">const</span>;
<a name="l00435"></a>00435 
<a name="l00439"></a>00439     StatusCode ResetProperties();
<a name="l00440"></a>00440 
<a name="l00444"></a>00444     <span class="keywordtype">void</span> ResetOutdatedProperties();
<a name="l00445"></a>00445 
<a name="l00451"></a>00451     StatusCode AddHitsFromSecondCluster(<a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pCluster);
<a name="l00452"></a>00452 
<a name="l00458"></a>00458     StatusCode AddTrackAssociation(<a class="code" href="classpandora_1_1Track.html">Track</a> *<span class="keyword">const</span> pTrack);
<a name="l00459"></a>00459 
<a name="l00465"></a>00465     StatusCode RemoveTrackAssociation(<a class="code" href="classpandora_1_1Track.html">Track</a> *<span class="keyword">const</span> pTrack);
<a name="l00466"></a>00466 
<a name="l00470"></a>00470     <span class="keywordtype">void</span> RemoveTrackSeed();
<a name="l00471"></a>00471 
<a name="l00477"></a>00477     <span class="keywordtype">void</span> SetAvailability(<span class="keywordtype">bool</span> isAvailable);
<a name="l00478"></a>00478 
<a name="l00479"></a>00479     <span class="keyword">typedef</span> std::map&lt;PseudoLayer, double&gt; ValueByPseudoLayerMap;
<a name="l00480"></a>00480     <span class="keyword">typedef</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterHelper::ClusterFitResult</a> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterFitResult</a>;   
<a name="l00481"></a>00481     <span class="keyword">typedef</span> std::map&lt;HitType, float&gt; HitTypeToEnergyMap;        
<a name="l00482"></a>00482 
<a name="l00483"></a>00483     <a class="code" href="classpandora_1_1OrderedCaloHitList.html">OrderedCaloHitList</a>          m_orderedCaloHitList;           
<a name="l00484"></a>00484     CaloHitList                 m_isolatedCaloHitList;          
<a name="l00485"></a>00485 
<a name="l00486"></a>00486     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                m_nCaloHits;                    
<a name="l00487"></a>00487     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>                m_nPossibleMipHits;             
<a name="l00488"></a>00488 
<a name="l00489"></a>00489     <span class="keywordtype">double</span>                      m_electromagneticEnergy;        
<a name="l00490"></a>00490     <span class="keywordtype">double</span>                      m_hadronicEnergy;               
<a name="l00491"></a>00491     <span class="keywordtype">double</span>                      m_isolatedElectromagneticEnergy;
<a name="l00492"></a>00492     <span class="keywordtype">double</span>                      m_isolatedHadronicEnergy;       
<a name="l00493"></a>00493 
<a name="l00494"></a>00494     <span class="keywordtype">bool</span>                        m_isFixedPhoton;                
<a name="l00495"></a>00495     <span class="keywordtype">bool</span>                        m_isFixedElectron;              
<a name="l00496"></a>00496     <span class="keywordtype">bool</span>                        m_isFixedMuon;                  
<a name="l00497"></a>00497 
<a name="l00498"></a>00498     <span class="keywordtype">bool</span>                        m_isMipTrack;                   
<a name="l00499"></a>00499     <span class="keyword">const</span> <a class="code" href="classpandora_1_1Track.html">Track</a>                *m_pTrackSeed;                   
<a name="l00500"></a>00500 
<a name="l00501"></a>00501     ValueByPseudoLayerMap       m_sumXByPseudoLayer;            
<a name="l00502"></a>00502     ValueByPseudoLayerMap       m_sumYByPseudoLayer;            
<a name="l00503"></a>00503     ValueByPseudoLayerMap       m_sumZByPseudoLayer;            
<a name="l00504"></a>00504 
<a name="l00505"></a>00505     <a class="code" href="classpandora_1_1PandoraInputType.html">InputPseudoLayer</a>            m_innerPseudoLayer;             
<a name="l00506"></a>00506     <a class="code" href="classpandora_1_1PandoraInputType.html">InputPseudoLayer</a>            m_outerPseudoLayer;             
<a name="l00507"></a>00507 
<a name="l00508"></a>00508     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1CartesianVector.html">CartesianVector</a>     m_initialDirection;             
<a name="l00509"></a>00509     <span class="keyword">mutable</span> <span class="keywordtype">bool</span>                m_isDirectionUpToDate;          
<a name="l00510"></a>00510 
<a name="l00511"></a>00511     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterFitResult</a>    m_currentFitResult;             
<a name="l00512"></a>00512 
<a name="l00513"></a>00513     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterFitResult</a>    m_fitToAllHitsResult;           
<a name="l00514"></a>00514     <span class="keyword">mutable</span> <span class="keywordtype">bool</span>                m_isFitUpToDate;                
<a name="l00515"></a>00515 
<a name="l00516"></a>00516     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputFloat</a>          m_correctedElectromagneticEnergy;
<a name="l00517"></a>00517     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputFloat</a>          m_correctedHadronicEnergy;      
<a name="l00518"></a>00518     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputFloat</a>          m_trackComparisonEnergy;        
<a name="l00519"></a>00519 
<a name="l00520"></a>00520     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputBool</a>           m_isPhotonFast;                 
<a name="l00521"></a>00521     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputPseudoLayer</a>    m_showerStartLayer;             
<a name="l00522"></a>00522     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputFloat</a>          m_showerProfileStart;           
<a name="l00523"></a>00523     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputFloat</a>          m_showerProfileDiscrepancy;     
<a name="l00524"></a>00524 
<a name="l00525"></a>00525     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputHitType</a>        m_innerLayerHitType;            
<a name="l00526"></a>00526     <span class="keyword">mutable</span> <a class="code" href="classpandora_1_1PandoraInputType.html">InputHitType</a>        m_outerLayerHitType;            
<a name="l00527"></a>00527 
<a name="l00528"></a>00528     TrackList                   m_associatedTrackList;          
<a name="l00529"></a>00529 
<a name="l00530"></a>00530     <span class="keywordtype">bool</span>                        m_isAvailable;                  
<a name="l00531"></a>00531 
<a name="l00532"></a>00532     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classpandora_1_1PandoraContentApiImpl.html">PandoraContentApiImpl</a>;
<a name="l00533"></a>00533     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classpandora_1_1ClusterManager.html">ClusterManager</a>;
<a name="l00534"></a>00534     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classpandora_1_1AlgorithmObjectManager.html">AlgorithmObjectManager</a>&lt;Cluster&gt;;
<a name="l00535"></a>00535 };
<a name="l00536"></a>00536 
<a name="l00537"></a>00537 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00538"></a>00538 
<a name="l00539"></a><a class="code" href="classpandora_1_1Cluster.html#f3d62b5e33e598f86575493527b0dcf9">00539</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#f3d62b5e33e598f86575493527b0dcf9">Cluster::SortByHadronicEnergy</a>(<span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pLhs, <span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pRhs)
<a name="l00540"></a>00540 {
<a name="l00541"></a>00541     <span class="keywordflow">return</span> (pLhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#1cb67011a00445c85c2c95c6b9283194">GetHadronicEnergy</a>() &gt; pRhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#1cb67011a00445c85c2c95c6b9283194">GetHadronicEnergy</a>());
<a name="l00542"></a>00542 }
<a name="l00543"></a>00543 
<a name="l00544"></a>00544 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00545"></a>00545 
<a name="l00546"></a><a class="code" href="classpandora_1_1Cluster.html#ac96b3dc88cb316da85c2657b1d33751">00546</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#ac96b3dc88cb316da85c2657b1d33751">Cluster::SortByElectromagneticEnergy</a>(<span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pLhs, <span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pRhs)
<a name="l00547"></a>00547 {
<a name="l00548"></a>00548     <span class="keywordflow">return</span> (pLhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#7222a118a5aff1ff1795bd5b47c550e3">GetElectromagneticEnergy</a>() &gt; pRhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#7222a118a5aff1ff1795bd5b47c550e3">GetElectromagneticEnergy</a>());
<a name="l00549"></a>00549 }
<a name="l00550"></a>00550 
<a name="l00551"></a>00551 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00552"></a>00552 
<a name="l00553"></a><a class="code" href="classpandora_1_1Cluster.html#dc2d4c40ceab19320603229bd11a5e68">00553</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#dc2d4c40ceab19320603229bd11a5e68">Cluster::SortByInnerLayer</a>(<span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pLhs, <span class="keyword">const</span> <a class="code" href="classpandora_1_1Cluster.html">Cluster</a> *<span class="keyword">const</span> pRhs)
<a name="l00554"></a>00554 {
<a name="l00555"></a>00555     <span class="keyword">const</span> PseudoLayer innerLayerLhs(pLhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#ff0143199b5740f3c0ad5e45ccca7e85">GetInnerPseudoLayer</a>()), innerLayerRhs(pRhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#ff0143199b5740f3c0ad5e45ccca7e85">GetInnerPseudoLayer</a>());
<a name="l00556"></a>00556 
<a name="l00557"></a>00557     <span class="keywordflow">if</span> (innerLayerLhs != innerLayerRhs)
<a name="l00558"></a>00558         <span class="keywordflow">return</span> (innerLayerLhs &lt; innerLayerRhs);
<a name="l00559"></a>00559 
<a name="l00560"></a>00560     <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nCaloHitsLhs(pLhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#af30147ed65bbb353064175f7017a026">GetNCaloHits</a>()), nCaloHitsRhs(pRhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#af30147ed65bbb353064175f7017a026">GetNCaloHits</a>());
<a name="l00561"></a>00561 
<a name="l00562"></a>00562     <span class="keywordflow">if</span> (nCaloHitsLhs != nCaloHitsRhs)
<a name="l00563"></a>00563         <span class="keywordflow">return</span> (nCaloHitsLhs &gt; nCaloHitsRhs);
<a name="l00564"></a>00564 
<a name="l00565"></a>00565     <span class="keywordflow">return</span> (pLhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#1cb67011a00445c85c2c95c6b9283194">GetHadronicEnergy</a>() &gt; pRhs-&gt;<a class="code" href="classpandora_1_1Cluster.html#1cb67011a00445c85c2c95c6b9283194">GetHadronicEnergy</a>());
<a name="l00566"></a>00566 }
<a name="l00567"></a>00567 
<a name="l00568"></a>00568 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00569"></a>00569 
<a name="l00570"></a><a class="code" href="classpandora_1_1Cluster.html#ab2d8e091179cbe15394acbb48cc6951">00570</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classpandora_1_1OrderedCaloHitList.html">OrderedCaloHitList</a> &amp;<a class="code" href="classpandora_1_1Cluster.html#ab2d8e091179cbe15394acbb48cc6951">Cluster::GetOrderedCaloHitList</a>()<span class="keyword"> const</span>
<a name="l00571"></a>00571 <span class="keyword"></span>{
<a name="l00572"></a>00572     <span class="keywordflow">return</span> m_orderedCaloHitList;
<a name="l00573"></a>00573 }
<a name="l00574"></a>00574 
<a name="l00575"></a>00575 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00576"></a>00576 
<a name="l00577"></a><a class="code" href="classpandora_1_1Cluster.html#fb5de350db8af370d35dff3be375a8b7">00577</a> <span class="keyword">inline</span> <span class="keyword">const</span> CaloHitList &amp;<a class="code" href="classpandora_1_1Cluster.html#fb5de350db8af370d35dff3be375a8b7">Cluster::GetIsolatedCaloHitList</a>()<span class="keyword"> const</span>
<a name="l00578"></a>00578 <span class="keyword"></span>{
<a name="l00579"></a>00579     <span class="keywordflow">return</span> m_isolatedCaloHitList;
<a name="l00580"></a>00580 }
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00583"></a>00583 
<a name="l00584"></a><a class="code" href="classpandora_1_1Cluster.html#af30147ed65bbb353064175f7017a026">00584</a> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classpandora_1_1Cluster.html#af30147ed65bbb353064175f7017a026">Cluster::GetNCaloHits</a>()<span class="keyword"> const</span>
<a name="l00585"></a>00585 <span class="keyword"></span>{
<a name="l00586"></a>00586     <span class="keywordflow">return</span> m_nCaloHits;
<a name="l00587"></a>00587 }
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00590"></a>00590 
<a name="l00591"></a><a class="code" href="classpandora_1_1Cluster.html#0947e036605513995b5cd106a6020e8b">00591</a> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classpandora_1_1Cluster.html#0947e036605513995b5cd106a6020e8b">Cluster::GetNIsolatedCaloHits</a>()<span class="keyword"> const</span>
<a name="l00592"></a>00592 <span class="keyword"></span>{
<a name="l00593"></a>00593     <span class="keywordflow">return</span> m_isolatedCaloHitList.size();
<a name="l00594"></a>00594 }
<a name="l00595"></a>00595 
<a name="l00596"></a>00596 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00597"></a>00597 
<a name="l00598"></a><a class="code" href="classpandora_1_1Cluster.html#3359d018ae714da31a9e923716e4bb0d">00598</a> <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classpandora_1_1Cluster.html#3359d018ae714da31a9e923716e4bb0d">Cluster::GetNPossibleMipHits</a>()<span class="keyword"> const</span>
<a name="l00599"></a>00599 <span class="keyword"></span>{
<a name="l00600"></a>00600     <span class="keywordflow">return</span> m_nPossibleMipHits;
<a name="l00601"></a>00601 }
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00604"></a>00604 
<a name="l00605"></a><a class="code" href="classpandora_1_1Cluster.html#b6a088f27746ae678943aa6899cad2fc">00605</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#b6a088f27746ae678943aa6899cad2fc">Cluster::GetMipFraction</a>()<span class="keyword"> const</span>
<a name="l00606"></a>00606 <span class="keyword"></span>{
<a name="l00607"></a>00607     <span class="keywordtype">float</span> mipFraction = 0;
<a name="l00608"></a>00608 
<a name="l00609"></a>00609     <span class="keywordflow">if</span> (0 != m_nCaloHits)
<a name="l00610"></a>00610         mipFraction = static_cast&lt;float&gt; (m_nPossibleMipHits) / static_cast&lt;float&gt; (m_nCaloHits);
<a name="l00611"></a>00611 
<a name="l00612"></a>00612     <span class="keywordflow">return</span> mipFraction;
<a name="l00613"></a>00613 }
<a name="l00614"></a>00614 
<a name="l00615"></a>00615 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="classpandora_1_1Cluster.html#7222a118a5aff1ff1795bd5b47c550e3">00617</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#7222a118a5aff1ff1795bd5b47c550e3">Cluster::GetElectromagneticEnergy</a>()<span class="keyword"> const</span>
<a name="l00618"></a>00618 <span class="keyword"></span>{
<a name="l00619"></a>00619     <span class="keywordflow">return</span> static_cast&lt;float&gt;(m_electromagneticEnergy);
<a name="l00620"></a>00620 }
<a name="l00621"></a>00621 
<a name="l00622"></a>00622 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00623"></a>00623 
<a name="l00624"></a><a class="code" href="classpandora_1_1Cluster.html#1cb67011a00445c85c2c95c6b9283194">00624</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#1cb67011a00445c85c2c95c6b9283194">Cluster::GetHadronicEnergy</a>()<span class="keyword"> const</span>
<a name="l00625"></a>00625 <span class="keyword"></span>{
<a name="l00626"></a>00626     <span class="keywordflow">return</span> static_cast&lt;float&gt;(m_hadronicEnergy);
<a name="l00627"></a>00627 }
<a name="l00628"></a>00628 
<a name="l00629"></a>00629 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00630"></a>00630 
<a name="l00631"></a><a class="code" href="classpandora_1_1Cluster.html#7eb7553ccb35b5589e12862a613f90e2">00631</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#7eb7553ccb35b5589e12862a613f90e2">Cluster::GetIsolatedElectromagneticEnergy</a>()<span class="keyword"> const</span>
<a name="l00632"></a>00632 <span class="keyword"></span>{
<a name="l00633"></a>00633     <span class="keywordflow">return</span> static_cast&lt;float&gt;(m_isolatedElectromagneticEnergy);
<a name="l00634"></a>00634 }
<a name="l00635"></a>00635 
<a name="l00636"></a>00636 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00637"></a>00637 
<a name="l00638"></a><a class="code" href="classpandora_1_1Cluster.html#68788c36a0a8f947726b401da1f336de">00638</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#68788c36a0a8f947726b401da1f336de">Cluster::GetIsolatedHadronicEnergy</a>()<span class="keyword"> const</span>
<a name="l00639"></a>00639 <span class="keyword"></span>{
<a name="l00640"></a>00640     <span class="keywordflow">return</span> static_cast&lt;float&gt;(m_isolatedHadronicEnergy);
<a name="l00641"></a>00641 }
<a name="l00642"></a>00642 
<a name="l00643"></a>00643 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00644"></a>00644 
<a name="l00645"></a><a class="code" href="classpandora_1_1Cluster.html#a7fb9e2c5334259084b8284e5c8206c8">00645</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#a7fb9e2c5334259084b8284e5c8206c8">Cluster::IsFixedPhoton</a>()<span class="keyword"> const</span>
<a name="l00646"></a>00646 <span class="keyword"></span>{
<a name="l00647"></a>00647     <span class="keywordflow">return</span> m_isFixedPhoton;
<a name="l00648"></a>00648 }
<a name="l00649"></a>00649 
<a name="l00650"></a>00650 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00651"></a>00651 
<a name="l00652"></a><a class="code" href="classpandora_1_1Cluster.html#ea60fcc4cda1b56c86f7579e533fd657">00652</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#ea60fcc4cda1b56c86f7579e533fd657">Cluster::IsFixedElectron</a>()<span class="keyword"> const</span>
<a name="l00653"></a>00653 <span class="keyword"></span>{
<a name="l00654"></a>00654     <span class="keywordflow">return</span> m_isFixedElectron;
<a name="l00655"></a>00655 }
<a name="l00656"></a>00656 
<a name="l00657"></a>00657 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00658"></a>00658 
<a name="l00659"></a><a class="code" href="classpandora_1_1Cluster.html#22c6e716000709edcb700745043741be">00659</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#22c6e716000709edcb700745043741be">Cluster::IsFixedMuon</a>()<span class="keyword"> const</span>
<a name="l00660"></a>00660 <span class="keyword"></span>{
<a name="l00661"></a>00661     <span class="keywordflow">return</span> m_isFixedMuon;
<a name="l00662"></a>00662 }
<a name="l00663"></a>00663 
<a name="l00664"></a>00664 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00665"></a>00665 
<a name="l00666"></a><a class="code" href="classpandora_1_1Cluster.html#2df14d259b15f8db54c2ff8e56903a48">00666</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#2df14d259b15f8db54c2ff8e56903a48">Cluster::IsMipTrack</a>()<span class="keyword"> const</span>
<a name="l00667"></a>00667 <span class="keyword"></span>{
<a name="l00668"></a>00668     <span class="keywordflow">return</span> m_isMipTrack;
<a name="l00669"></a>00669 }
<a name="l00670"></a>00670 
<a name="l00671"></a>00671 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00672"></a>00672 
<a name="l00673"></a><a class="code" href="classpandora_1_1Cluster.html#b56c2a6fd89d602b3793e7149012d312">00673</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#b56c2a6fd89d602b3793e7149012d312">Cluster::IsTrackSeeded</a>()<span class="keyword"> const</span>
<a name="l00674"></a>00674 <span class="keyword"></span>{
<a name="l00675"></a>00675     <span class="keywordflow">return</span> (NULL != m_pTrackSeed);
<a name="l00676"></a>00676 }
<a name="l00677"></a>00677 
<a name="l00678"></a>00678 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00679"></a>00679 
<a name="l00680"></a><a class="code" href="classpandora_1_1Cluster.html#d7943f522687a324e733e39629b28412">00680</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classpandora_1_1Track.html">Track</a> *<a class="code" href="classpandora_1_1Cluster.html#d7943f522687a324e733e39629b28412">Cluster::GetTrackSeed</a>()<span class="keyword"> const</span>
<a name="l00681"></a>00681 <span class="keyword"></span>{
<a name="l00682"></a>00682     <span class="keywordflow">if</span> (NULL == m_pTrackSeed)
<a name="l00683"></a>00683         <span class="keywordflow">throw</span> <a class="code" href="classpandora_1_1StatusCodeException.html">StatusCodeException</a>(STATUS_CODE_NOT_INITIALIZED);
<a name="l00684"></a>00684 
<a name="l00685"></a>00685     <span class="keywordflow">return</span> m_pTrackSeed;
<a name="l00686"></a>00686 }
<a name="l00687"></a>00687 
<a name="l00688"></a>00688 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00689"></a>00689 
<a name="l00690"></a><a class="code" href="classpandora_1_1Cluster.html#ff0143199b5740f3c0ad5e45ccca7e85">00690</a> <span class="keyword">inline</span> PseudoLayer <a class="code" href="classpandora_1_1Cluster.html#ff0143199b5740f3c0ad5e45ccca7e85">Cluster::GetInnerPseudoLayer</a>()<span class="keyword"> const</span>
<a name="l00691"></a>00691 <span class="keyword"></span>{
<a name="l00692"></a>00692     <span class="keywordflow">return</span> m_innerPseudoLayer.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00693"></a>00693 }
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00696"></a>00696 
<a name="l00697"></a><a class="code" href="classpandora_1_1Cluster.html#85ebc19a0230224ef48283f8e5ba0534">00697</a> <span class="keyword">inline</span> PseudoLayer <a class="code" href="classpandora_1_1Cluster.html#85ebc19a0230224ef48283f8e5ba0534">Cluster::GetOuterPseudoLayer</a>()<span class="keyword"> const</span>
<a name="l00698"></a>00698 <span class="keyword"></span>{
<a name="l00699"></a>00699     <span class="keywordflow">return</span> m_outerPseudoLayer.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00700"></a>00700 }
<a name="l00701"></a>00701 
<a name="l00702"></a>00702 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00703"></a>00703 
<a name="l00704"></a><a class="code" href="classpandora_1_1Cluster.html#7bb4e67d9eab35849b462db84421fb79">00704</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classpandora_1_1CartesianVector.html">CartesianVector</a> &amp;<a class="code" href="classpandora_1_1Cluster.html#7bb4e67d9eab35849b462db84421fb79">Cluster::GetInitialDirection</a>()<span class="keyword"> const</span>
<a name="l00705"></a>00705 <span class="keyword"></span>{
<a name="l00706"></a>00706     <span class="keywordflow">if</span> (!m_isDirectionUpToDate)
<a name="l00707"></a>00707         this-&gt;CalculateInitialDirection();
<a name="l00708"></a>00708 
<a name="l00709"></a>00709     <span class="keywordflow">return</span> m_initialDirection;
<a name="l00710"></a>00710 }
<a name="l00711"></a>00711 
<a name="l00712"></a>00712 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00713"></a>00713 
<a name="l00714"></a><a class="code" href="classpandora_1_1Cluster.html#a79ae43e111a9bbedebd27b81dc9c41f">00714</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterHelper::ClusterFitResult</a> &amp;<a class="code" href="classpandora_1_1Cluster.html#a79ae43e111a9bbedebd27b81dc9c41f">Cluster::GetCurrentFitResult</a>()<span class="keyword"> const</span>
<a name="l00715"></a>00715 <span class="keyword"></span>{
<a name="l00716"></a>00716     <span class="keywordflow">return</span> m_currentFitResult;
<a name="l00717"></a>00717 }
<a name="l00718"></a>00718 
<a name="l00719"></a>00719 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00720"></a>00720 
<a name="l00721"></a><a class="code" href="classpandora_1_1Cluster.html#4b84e0a510ea0d303583331a13548422">00721</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterHelper::ClusterFitResult</a> &amp;<a class="code" href="classpandora_1_1Cluster.html#4b84e0a510ea0d303583331a13548422">Cluster::GetFitToAllHitsResult</a>()<span class="keyword"> const</span>
<a name="l00722"></a>00722 <span class="keyword"></span>{
<a name="l00723"></a>00723     <span class="keywordflow">if</span> (!m_isFitUpToDate)
<a name="l00724"></a>00724         this-&gt;CalculateFitToAllHitsResult();
<a name="l00725"></a>00725 
<a name="l00726"></a>00726     <span class="keywordflow">return</span> m_fitToAllHitsResult;
<a name="l00727"></a>00727 }
<a name="l00728"></a>00728 
<a name="l00729"></a>00729 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00730"></a>00730 
<a name="l00731"></a><a class="code" href="classpandora_1_1Cluster.html#7d7e6de1ed4ea1f35816abbd409d72e5">00731</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#7d7e6de1ed4ea1f35816abbd409d72e5">Cluster::GetCorrectedElectromagneticEnergy</a>()<span class="keyword"> const</span>
<a name="l00732"></a>00732 <span class="keyword"></span>{
<a name="l00733"></a>00733     <span class="keywordflow">if</span> (!m_correctedElectromagneticEnergy.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00734"></a>00734         this-&gt;PerformEnergyCorrections();
<a name="l00735"></a>00735 
<a name="l00736"></a>00736     <span class="keywordflow">return</span> m_correctedElectromagneticEnergy.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00737"></a>00737 }
<a name="l00738"></a>00738 
<a name="l00739"></a>00739 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00740"></a>00740 
<a name="l00741"></a><a class="code" href="classpandora_1_1Cluster.html#874b15b9125b2eda14e085bc7847fe55">00741</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#874b15b9125b2eda14e085bc7847fe55">Cluster::GetCorrectedHadronicEnergy</a>()<span class="keyword"> const</span>
<a name="l00742"></a>00742 <span class="keyword"></span>{
<a name="l00743"></a>00743     <span class="keywordflow">if</span> (!m_correctedHadronicEnergy.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00744"></a>00744         this-&gt;PerformEnergyCorrections();
<a name="l00745"></a>00745 
<a name="l00746"></a>00746     <span class="keywordflow">return</span> m_correctedHadronicEnergy.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00747"></a>00747 }
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00750"></a>00750 
<a name="l00751"></a><a class="code" href="classpandora_1_1Cluster.html#f377c3e5af9ae66fd2d844fe179769f9">00751</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#f377c3e5af9ae66fd2d844fe179769f9">Cluster::GetTrackComparisonEnergy</a>()<span class="keyword"> const</span>
<a name="l00752"></a>00752 <span class="keyword"></span>{
<a name="l00753"></a>00753     <span class="keywordflow">if</span> (!m_trackComparisonEnergy.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00754"></a>00754         this-&gt;PerformEnergyCorrections();
<a name="l00755"></a>00755 
<a name="l00756"></a>00756     <span class="keywordflow">return</span> m_trackComparisonEnergy.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00757"></a>00757 }
<a name="l00758"></a>00758 
<a name="l00759"></a>00759 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00760"></a>00760 
<a name="l00761"></a><a class="code" href="classpandora_1_1Cluster.html#92b10ff1a15b62ed7f45819d871db995">00761</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#92b10ff1a15b62ed7f45819d871db995">Cluster::IsPhotonFast</a>()<span class="keyword"> const</span>
<a name="l00762"></a>00762 <span class="keyword"></span>{
<a name="l00763"></a>00763     <span class="keywordflow">if</span> (!m_isPhotonFast.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00764"></a>00764         this-&gt;CalculateFastPhotonFlag();
<a name="l00765"></a>00765 
<a name="l00766"></a>00766     <span class="keywordflow">return</span> m_isPhotonFast.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00767"></a>00767 }
<a name="l00768"></a>00768 
<a name="l00769"></a>00769 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00770"></a>00770 
<a name="l00771"></a><a class="code" href="classpandora_1_1Cluster.html#f240922c9d190ea36c5f48d6bd1e55af">00771</a> <span class="keyword">inline</span> PseudoLayer <a class="code" href="classpandora_1_1Cluster.html#f240922c9d190ea36c5f48d6bd1e55af">Cluster::GetShowerStartLayer</a>()<span class="keyword"> const</span>
<a name="l00772"></a>00772 <span class="keyword"></span>{
<a name="l00773"></a>00773     <span class="keywordflow">if</span> (!m_showerStartLayer.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00774"></a>00774         this-&gt;CalculateShowerStartLayer();
<a name="l00775"></a>00775 
<a name="l00776"></a>00776     <span class="keywordflow">return</span> m_showerStartLayer.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00777"></a>00777 }
<a name="l00778"></a>00778 
<a name="l00779"></a>00779 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00780"></a>00780 
<a name="l00781"></a><a class="code" href="classpandora_1_1Cluster.html#400df0807bd773b0b46b85cfbc924d12">00781</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#400df0807bd773b0b46b85cfbc924d12">Cluster::GetShowerProfileStart</a>()<span class="keyword"> const</span>
<a name="l00782"></a>00782 <span class="keyword"></span>{
<a name="l00783"></a>00783     <span class="keywordflow">if</span> (!m_showerProfileStart.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00784"></a>00784         this-&gt;CalculateShowerProfile();
<a name="l00785"></a>00785 
<a name="l00786"></a>00786     <span class="keywordflow">return</span> m_showerProfileStart.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00787"></a>00787 }
<a name="l00788"></a>00788 
<a name="l00789"></a>00789 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00790"></a>00790 
<a name="l00791"></a><a class="code" href="classpandora_1_1Cluster.html#bea9e212018e3525940f1457a9d7a301">00791</a> <span class="keyword">inline</span> <span class="keywordtype">float</span> <a class="code" href="classpandora_1_1Cluster.html#bea9e212018e3525940f1457a9d7a301">Cluster::GetShowerProfileDiscrepancy</a>()<span class="keyword"> const</span>
<a name="l00792"></a>00792 <span class="keyword"></span>{
<a name="l00793"></a>00793     <span class="keywordflow">if</span> (!m_showerProfileDiscrepancy.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00794"></a>00794         this-&gt;CalculateShowerProfile();
<a name="l00795"></a>00795 
<a name="l00796"></a>00796     <span class="keywordflow">return</span> m_showerProfileDiscrepancy.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00797"></a>00797 }
<a name="l00798"></a>00798 
<a name="l00799"></a>00799 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00800"></a>00800 
<a name="l00801"></a><a class="code" href="classpandora_1_1Cluster.html#3f37d1738b3b92b544d864c38d823dfc">00801</a> <span class="keyword">inline</span> HitType <a class="code" href="classpandora_1_1Cluster.html#3f37d1738b3b92b544d864c38d823dfc">Cluster::GetInnerLayerHitType</a>()<span class="keyword"> const</span>
<a name="l00802"></a>00802 <span class="keyword"></span>{
<a name="l00803"></a>00803     <span class="keywordflow">if</span> (!m_innerLayerHitType.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00804"></a>00804         this-&gt;CalculateLayerHitType(m_innerPseudoLayer.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>(), m_innerLayerHitType);
<a name="l00805"></a>00805 
<a name="l00806"></a>00806     <span class="keywordflow">return</span> m_innerLayerHitType.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00807"></a>00807 }
<a name="l00808"></a>00808 
<a name="l00809"></a>00809 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00810"></a>00810 
<a name="l00811"></a><a class="code" href="classpandora_1_1Cluster.html#d27fb76ace32b08a0e3ba245318c9ab1">00811</a> <span class="keyword">inline</span> HitType <a class="code" href="classpandora_1_1Cluster.html#d27fb76ace32b08a0e3ba245318c9ab1">Cluster::GetOuterLayerHitType</a>()<span class="keyword"> const</span>
<a name="l00812"></a>00812 <span class="keyword"></span>{
<a name="l00813"></a>00813     <span class="keywordflow">if</span> (!m_outerLayerHitType.<a class="code" href="classpandora_1_1PandoraInputType.html#92dfd0a34bd6d59ccb59fc8fa1c20692">IsInitialized</a>())
<a name="l00814"></a>00814         this-&gt;CalculateLayerHitType(m_outerPseudoLayer.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>(), m_outerLayerHitType);
<a name="l00815"></a>00815 
<a name="l00816"></a>00816     <span class="keywordflow">return</span> m_outerLayerHitType.<a class="code" href="classpandora_1_1PandoraInputType.html#6cdc85cefc1803578a9f5b146e0320d2">Get</a>();
<a name="l00817"></a>00817 }
<a name="l00818"></a>00818 
<a name="l00819"></a>00819 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00820"></a>00820 
<a name="l00821"></a><a class="code" href="classpandora_1_1Cluster.html#9e1e1e79baacacc9fb313ec8d087fae1">00821</a> <span class="keyword">inline</span> <span class="keyword">const</span> TrackList &amp;<a class="code" href="classpandora_1_1Cluster.html#9e1e1e79baacacc9fb313ec8d087fae1">Cluster::GetAssociatedTrackList</a>()<span class="keyword"> const</span>
<a name="l00822"></a>00822 <span class="keyword"></span>{
<a name="l00823"></a>00823     <span class="keywordflow">return</span> m_associatedTrackList;
<a name="l00824"></a>00824 }
<a name="l00825"></a>00825 
<a name="l00826"></a>00826 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00827"></a>00827 
<a name="l00828"></a><a class="code" href="classpandora_1_1Cluster.html#b5e8c7bf69d4287e028d413f827f8b66">00828</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#b5e8c7bf69d4287e028d413f827f8b66">Cluster::SetIsFixedPhotonFlag</a>(<span class="keywordtype">bool</span> isFixedPhotonFlag)
<a name="l00829"></a>00829 {
<a name="l00830"></a>00830     m_isPhotonFast.<a class="code" href="classpandora_1_1PandoraInputType.html#a770ff5b29bbee8797bae45ee49edcbe">Reset</a>();
<a name="l00831"></a>00831     m_isFixedPhoton = isFixedPhotonFlag;
<a name="l00832"></a>00832 }
<a name="l00833"></a>00833 
<a name="l00834"></a>00834 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00835"></a>00835 
<a name="l00836"></a><a class="code" href="classpandora_1_1Cluster.html#a0e9e6b5402b36b0614678adf222b498">00836</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#a0e9e6b5402b36b0614678adf222b498">Cluster::SetIsFixedElectronFlag</a>(<span class="keywordtype">bool</span> isFixedElectronFlag)
<a name="l00837"></a>00837 {
<a name="l00838"></a>00838     m_isFixedElectron = isFixedElectronFlag;
<a name="l00839"></a>00839 }
<a name="l00840"></a>00840 
<a name="l00841"></a>00841 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00842"></a>00842 
<a name="l00843"></a><a class="code" href="classpandora_1_1Cluster.html#39ec4f5a6bb2dfaacbd4f74600baf65d">00843</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#39ec4f5a6bb2dfaacbd4f74600baf65d">Cluster::SetIsFixedMuonFlag</a>(<span class="keywordtype">bool</span> isFixedMuonFlag)
<a name="l00844"></a>00844 {
<a name="l00845"></a>00845     m_isFixedMuon = isFixedMuonFlag;
<a name="l00846"></a>00846 }
<a name="l00847"></a>00847 
<a name="l00848"></a>00848 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00849"></a>00849 
<a name="l00850"></a><a class="code" href="classpandora_1_1Cluster.html#523947c9c4ab6c08f3d57bb3f559fa2d">00850</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#523947c9c4ab6c08f3d57bb3f559fa2d">Cluster::SetIsMipTrackFlag</a>(<span class="keywordtype">bool</span> isMipTrackFlag)
<a name="l00851"></a>00851 {
<a name="l00852"></a>00852     m_isMipTrack = isMipTrackFlag;
<a name="l00853"></a>00853 }
<a name="l00854"></a>00854 
<a name="l00855"></a>00855 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00856"></a>00856 
<a name="l00857"></a><a class="code" href="classpandora_1_1Cluster.html#418003e1d22f417f718705fb60f13ee7">00857</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classpandora_1_1Cluster.html#418003e1d22f417f718705fb60f13ee7">Cluster::SetCurrentFitResult</a>(<span class="keyword">const</span> <a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html">ClusterHelper::ClusterFitResult</a> &amp;currentFitResult)
<a name="l00858"></a>00858 {
<a name="l00859"></a>00859     m_currentFitResult = currentFitResult;
<a name="l00860"></a>00860 }
<a name="l00861"></a>00861 
<a name="l00862"></a>00862 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00863"></a>00863 
<a name="l00864"></a>00864 <span class="keyword">inline</span> Cluster::~Cluster()
<a name="l00865"></a>00865 {
<a name="l00866"></a>00866 }
<a name="l00867"></a>00867 
<a name="l00868"></a>00868 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00869"></a>00869 
<a name="l00870"></a>00870 <span class="keyword">inline</span> <span class="keywordtype">void</span> Cluster::ResetOutdatedProperties()
<a name="l00871"></a>00871 {
<a name="l00872"></a>00872     m_isFitUpToDate = <span class="keyword">false</span>;
<a name="l00873"></a>00873     m_isDirectionUpToDate = <span class="keyword">false</span>;
<a name="l00874"></a>00874     m_initialDirection.SetValues(0.f, 0.f, 0.f);
<a name="l00875"></a>00875     m_fitToAllHitsResult.<a class="code" href="classpandora_1_1ClusterHelper_1_1ClusterFitResult.html#6509415dd96f5d35de6e864597722be7">Reset</a>();
<a name="l00876"></a>00876     m_showerStartLayer.Reset();
<a name="l00877"></a>00877     m_isPhotonFast.Reset();
<a name="l00878"></a>00878     m_showerProfileStart.Reset();
<a name="l00879"></a>00879     m_showerProfileDiscrepancy.Reset();
<a name="l00880"></a>00880     m_correctedElectromagneticEnergy.Reset();
<a name="l00881"></a>00881     m_correctedHadronicEnergy.Reset();
<a name="l00882"></a>00882     m_trackComparisonEnergy.Reset();
<a name="l00883"></a>00883     m_innerLayerHitType.Reset();
<a name="l00884"></a>00884     m_outerLayerHitType.Reset();
<a name="l00885"></a>00885 }
<a name="l00886"></a>00886 
<a name="l00887"></a>00887 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00888"></a>00888 
<a name="l00889"></a><a class="code" href="classpandora_1_1Cluster.html#2cc5d242e8274ea88fb74094e384be0b">00889</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classpandora_1_1Cluster.html#2cc5d242e8274ea88fb74094e384be0b">Cluster::IsAvailable</a>()<span class="keyword"> const</span>
<a name="l00890"></a>00890 <span class="keyword"></span>{
<a name="l00891"></a>00891     <span class="keywordflow">return</span> m_isAvailable;
<a name="l00892"></a>00892 }
<a name="l00893"></a>00893 
<a name="l00894"></a>00894 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00895"></a>00895 
<a name="l00896"></a>00896 <span class="keyword">inline</span> <span class="keywordtype">void</span> Cluster::RemoveTrackSeed()
<a name="l00897"></a>00897 {
<a name="l00898"></a>00898     m_pTrackSeed = NULL;
<a name="l00899"></a>00899     this-&gt;CalculateInitialDirection();
<a name="l00900"></a>00900 }
<a name="l00901"></a>00901 
<a name="l00902"></a>00902 <span class="comment">//------------------------------------------------------------------------------------------------------------------------------------------</span>
<a name="l00903"></a>00903 
<a name="l00904"></a>00904 <span class="keyword">inline</span> <span class="keywordtype">void</span> Cluster::SetAvailability(<span class="keywordtype">bool</span> isAvailable)
<a name="l00905"></a>00905 {
<a name="l00906"></a>00906     m_isAvailable = isAvailable;
<a name="l00907"></a>00907 }
<a name="l00908"></a>00908 
<a name="l00909"></a>00909 } <span class="comment">// namespace pandora</span>
<a name="l00910"></a>00910 
<a name="l00911"></a>00911 <span class="preprocessor">#endif // #ifndef CLUSTER_H</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Oct 9 18:30:41 2012 for PandoraPFANew by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
